<div id="particles-js" aria-hidden="true"></div>

<header class="app-header" role="banner">
  <div class="brand">
    <img class="logo" src="https://i.ibb.co/mrWRzPz0/Logolibro.png" alt="Logo Libronautas">
    <span class="brand-title">LIBRONAUTAS</span>
  </div>

  <button class="menu-toggle" aria-label="Abrir menÃº principal">â˜°</button>

  <nav class="main-nav" role="navigation" aria-label="NavegaciÃ³n principal">
    <button class="nav-btn" data-go="home" aria-current="page">ğŸ  Inicio</button>
    <button class="nav-btn" data-go="about">â„¹ï¸ Acerca de</button>
    <button class="nav-btn" data-go="subscriptions">ğŸ’³ Suscripciones</button>

    <button class="nav-btn role-only" data-role="children" data-go="missions">ğŸš€ Misiones</button>
    <button class="nav-btn role-only" data-role="children" data-go="children">ğŸ‘¦ NiÃ±os</button>
    <button class="nav-btn role-only" data-role="children" data-go="library">ğŸ“š Biblioteca</button>
    <button class="nav-btn role-only" data-role="parents" data-go="parents">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Padres</button>
    <button class="nav-btn role-only" data-role="teachers" data-go="teachers">ğŸ“˜ Maestros</button>
    <button class="nav-btn role-only" data-role="school" data-go="school">ğŸ« Colegio</button>

    <button class="nav-btn" data-go="register">ğŸ“ Registro</button>
    <button class="nav-btn login" data-go="login">ğŸ”‘ Login</button>
    <button class="nav-btn logout-btn" data-go="logout" hidden>â‹ Salir</button>
  </nav>
</header>

<main class="app-main" role="main">
  <section id="home" class="page active" data-page="home" aria-labelledby="homeTitle">
    <div class="container">
      <div class="hero">
        <h1 id="homeTitle" class="title">âœ¨ BIENVENIDOS A LIBRONAUTAS âœ¨</h1>
        <p id="typed" class="subtitle">
          Explora el universo de la lectura con misiones, juegos y progreso en tiempo real.
        </p>
        <div class="hero-actions">
          <button class="btn cta pulse" data-go="login">ğŸš€ Comenzar la aventura</button>
          <button class="btn ghost" data-go="about">â„¹ï¸ Conocer mÃ¡s</button>
        </div>
        <div class="badges-intro compact-panel" style="margin-top:14px">
          <span class="badge">ğŸ… Insignias</span>
          <span class="badge">ğŸ“ˆ Progreso</span>
          <span class="badge">ğŸ¯ Retos</span>
        </div>
      </div>

      <div class="cards" style="margin:18px 12px">
        <article class="card lift">
          <h3>ğŸ“ 1. RegÃ­strate</h3>
          <p>Crea tu perfil (niÃ±o, padre, docente o colegio).</p>
          <button class="chip" data-go="register">Crear cuenta</button>
        </article>
        <article class="card lift">
          <h3>ğŸ® 2. Elige una misiÃ³n</h3>
          <p>Juega sÃ­labas, sopa de letras o trivia y suma puntos.</p>
          <button class="chip" data-go="missions">Ver misiones</button>
        </article>
        <article class="card lift">
          <h3>ğŸ† 3. Gana recompensas</h3>
          <p>Desbloquea insignias, diplomas y lecturas recomendadas.</p>
          <button class="chip" data-go="library">Ir a la biblioteca</button>
        </article>
      </div>

      <div class="panel" style="text-align:center; margin-top:12px">
        <p class="subhead" style="margin:0">ğŸ“š AcompaÃ±amos a familias y colegios a disfrutar la lectura.</p>
      </div>
    </div>
  </section>

  <section id="about" class="page" data-page="about" aria-labelledby="aboutTitle">
    <div class="container">
      <div class="panel">
        <h2 id="aboutTitle" class="section-title">ğŸŒŸ Acerca de Libronautas</h2>
        <p>
          El Club Libronautas es un programa de lectoescritura infantil dividido en niveles:
          ğŸš€ Punto de Despegue, ğŸŒ MisiÃ³n Tierra, ğŸŒŒ MisiÃ³n GalÃ¡ctica.
        </p>
        <div class="grid-2">
          <div>
            <h3 class="subhead">ğŸ¯ Objetivo</h3>
            <p>Facilitar acceso a lecturas, juegos y seguimiento de progreso por rol.</p>
          </div>
          <div>
            <h3 class="subhead">ğŸ“¬ Contacto</h3>
            <p>
              <a href="mailto:

hola@lalibreriadedylan.com">ğŸ“§ hola@lalibreriadedylan.com</a><br>
              <a href="tel:(829) 894 - 7676">ğŸ“ (829) 894 - 7676</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="missions" class="page role-only" data-page="missions" data-role="children" aria-labelledby="missionsTitle">
    <div class="container">
      <h2 id="missionsTitle" class="section-title">Misiones</h2>
      <p class="subhead">Elige una misiÃ³n para ganar puntos e insignias ğŸ…</p>
      <div class="cards">
        <article class="card lift">
          <h3>ğŸ”¤ SÃ­labas</h3>
          <p>Encuentra la sÃ­laba correcta antes de que se acabe el tiempo.</p>
          <button class="chip" data-go="game-syllables">Jugar</button>
        </article>
        <article class="card lift">
          <h3>ğŸ§© Sopa de letras</h3>
          <p>Busca palabras ocultas entre letras.</p>
          <button class="chip" data-go="game-wordsearch">Jugar</button>
        </article>
        <article class="card lift">
          <h3>â“ Trivia</h3>
          <p>Responde preguntas y suma puntos.</p>
          <button class="chip" data-go="game-trivia">Jugar</button>
        </article>
      </div>
    </div>
  </section>

  <section id="library" class="page" data-page="library" aria-labelledby="libraryTitle">
    <div class="container">
      <h2 id="libraryTitle" class="section-title">ğŸ“š Biblioteca Digital</h2>
      <div class="panel" style="margin-top:10px">
        <div class="grid-2">
          <div class="tags" id="libraryFilters">
            <button class="chip" data-filter="despegue">ğŸš€ Despegue</button>
            <button class="chip" data-filter="tierra">ğŸŒ Tierra</button>
            <button class="chip" data-filter="galactica">ğŸŒŒ GalÃ¡ctica</button>
          </div>
          <div style="display:flex;align-items:center;gap:10px;justify-content:flex-end">
            <label for="librarySearch" class="sr-only">Buscar tÃ­tulo o autor</label>
            <input id="librarySearch" type="search" placeholder="Buscar tÃ­tulo o autorâ€¦"
              style="flex:1;max-width:320px;padding:10px;border-radius:10px;
                     border:1px solid rgba(255,255,255,.2);
                     background:rgba(255,255,255,.08);color:#fff" autocomplete="off" aria-label="Buscar en biblioteca">
            <div class="badge soft" id="subStatus" aria-live="polite">Plan: Gratis</div>
          </div>
        </div>
      </div>
      <div id="libraryGrid" class="cards" aria-live="polite"></div>
    </div>
  </section>

  <section id="subscriptions" class="page" data-page="subscriptions" aria-labelledby="subsTitle">
    <div class="container">
      <h2 id="subsTitle" class="section-title">Club Libronautas</h2>
      <p class="subhead">La lectura como misiÃ³n, juego y descubrimiento.</p>
      <div class="cards">
        <article class="card lift">
          <h3>Club Individual</h3>
          <ul class="list">
            <li>Acceso a lecturas y juegos</li>
            <li>Puntos, insignias y diplomas</li>
            <li>Grupos guiados</li>
          </ul>
          <button class="cta" id="btnPlanIndividual" aria-label="Elegir plan Club Libronautas Individual">Elegir plan</button>
        </article>
        <article class="card lift">
          <h3>Club Colegios</h3>
          <ul class="list">
            <li>Panel docente con rÃºbrica</li>
            <li>CreaciÃ³n de clubes y reportes</li>
          </ul>
          <button class="cta" id="btnPlanColegios" aria-label="Elegir plan Club Libronautas para Colegios">Elegir plan</button>
        </article>
        <article class="card lift">
          <h3>Club Salas de tarea</h3>
          <ul class="list">
            <li>Refuerzo lector</li>
            <li>Actividades lÃºdicas e imprimibles</li>
          </ul>
          <button class="cta" id="btnPlanSalas" aria-label="Elegir plan Club Libronautas Salas de tarea">Elegir plan</button>
        </article>
      </div>
      <p class="subhead" id="payMsg" aria-live="polite"></p>
    </div>
  </section>

  <section id="children" class="page role-only" data-page="children" data-role="children" aria-labelledby="childrenTitle">
    <div class="container">
      <h2 id="childrenTitle" class="section-title">ğŸ® Panel de NiÃ±os</h2>
      <div class="panel">
        <p>Hola ğŸ‘‹ este es tu espacio para jugar y leer.</p>
        <div class="chartBox"><canvas id="childChart" role="img" aria-label="GrÃ¡fico de progreso de lectura semanal"></canvas></div>
        <div class="grid-2">
          <div>
            <h3 class="subhead">Tus insignias</h3>
            <div id="childBadges" class="badges" aria-live="polite"></div>
          </div>
          <div>
            <h3 class="subhead">Tareas</h3>
            <ul id="childTasks" class="tasks" aria-live="polite"></ul>
          </div>
        </div>
        <div class="panel">
          <h3 class="subhead">ğŸ“ Diplomas</h3>
          <button class="chip" id="btnDiploma">Descargar diploma</button>
        </div>
      </div>
    </div>
  </section>

  <section id="parents" class="page role-only" data-page="parents" data-role="parents" aria-labelledby="parentsTitle">
    <div class="container">
      <h2 id="parentsTitle" class="section-title">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Panel Padres</h2>
      <div class="panel">
        <p><strong>Hijo/a:</strong> <span id="pName">NicolÃ¡s</span> Â·
           <strong>Nivel:</strong> <span id="pLevel">MisiÃ³n Tierra</span> Â·
           <strong>Ãšltima actividad:</strong> <span id="pLast">Sopa</span></p>
        <div class="kpis">
          <div class="kpi"><span id="pTotalMin">0</span> Min. semanales</div>
          <div class="kpi"><span id="pActs">0</span> Actividades</div>
          <div class="kpi"><span id="pProg">0%</span> Progreso</div>
        </div>
        <div class="chartBox"><canvas id="progressChart" role="img" aria-label="Minutos de lectura por dÃ­a"></canvas></div>
        <h3>Logros recientes</h3>
        <ul id="parentAchievements" class="list" aria-live="polite"></ul>
        <h3>Tareas del niÃ±o</h3>
        <ul id="parentTasks" class="tasks" aria-live="polite"></ul>
        <h3>Misiones completadas</h3>
        <ul id="parentMissions" class="list" aria-live="polite"></ul>
        <h3>ğŸ“„ Recursos</h3>
        <button class="chip" id="btnResources">Descargar recursos</button>
      </div>
    </div>
  </section>
  <section id="teachers" class="page role-only" data-page="teachers" data-role="teachers" aria-labelledby="teachersTitle">
    <div class="container">
      <h2 id="teachersTitle" class="section-title">ğŸ“˜ Panel Docentes</h2>
      <div class="panel compact">
        <div class="kpis">
          <div class="kpi"><span id="tStudents">0</span> Estudiantes</div>
          <div class="kpi"><span id="tAvg">0%</span> Promedio</div>
          <div class="kpi"><span id="tCompleted">0</span> Actividades</div>
        </div>
        <div class="chartBox"><canvas id="teacherRadar" role="img" aria-label="Radar de rÃºbrica evaluativa 0 a 100"></canvas></div>
        <div class="table-wrap" role="region" aria-label="Tabla de estudiantes">
          <table class="table">
            <thead><tr><th>Estudiante</th><th>Nivel</th><th>Progreso</th><th>Ãšltima</th></tr></thead>
            <tbody id="teacherTable"></tbody>
          </table>
        </div>
        <h3>ğŸ“Š RÃºbrica Evaluativa</h3>
        <div class="table-wrap" role="region" aria-label="RÃºbrica por estudiante">
          <table class="table">
            <thead>
              <tr>
                <th>Estudiante</th>
                <th>SÃ­labas</th>
                <th>Palabras</th>
                <th>Lectura grupal</th>
                <th>Escritura</th>
                <th>ComprensiÃ³n</th>
                <th>Tareas</th>
                <th>Lectura casa</th>
                <th>DisposiciÃ³n</th>
              </tr>
            </thead>
            <tbody id="rubricTable"></tbody>
          </table>
        </div>
        <div class="actions">
          <button class="chip" id="btnExportClass">Exportar clase (CSV)</button>
          <button class="chip" id="btnRubricExport">Exportar rÃºbrica (CSV)</button>
        </div>
        <h3>ğŸ‘¥ GestiÃ³n de grupos</h3>
        <form id="groupForm" aria-label="Formulario de creaciÃ³n de grupos">
          <label for="groupName" class="sr-only">Nombre del grupo</label>
          <input type="text" id="groupName" placeholder="Nombre del grupo" autocomplete="off">
          <button type="submit" class="chip">AÃ±adir grupo</button>
        </form>
        <ul id="groupList" class="list" aria-live="polite"></ul>
      </div>
    </div>
  </section>

  <section id="school" class="page role-only" data-page="school" data-role="school" aria-labelledby="schoolTitle">
    <div class="container">
      <h2 id="schoolTitle" class="section-title">ğŸ« Panel Colegio</h2>
      <div class="panel compact">
        <div class="kpis">
          <div class="kpi"><span id="kidsActive">0</span> Activos</div>
          <div class="kpi"><span id="avgProgress">0%</span> Promedio</div>
          <div class="kpi"><span id="todayActs">0</span> Hoy</div>
        </div>
        <div class="grid-2">
          <div class="chartBox"><canvas id="schoolChart" role="img" aria-label="DistribuciÃ³n por nivel"></canvas></div>
          <div class="chartBox"><canvas id="schoolBars" role="img" aria-label="Actividades completadas hoy"></canvas></div>
        </div>
        <h3 class="subhead">Resumen</h3>
        <ul id="schoolSummary" class="list" aria-live="polite"></ul>
        <button class="chip" id="btnSchoolExport">Exportar reporte (CSV)</button>
      </div>
    </div>
  </section>

  <section id="game-syllables" class="page role-only" data-page="game-syllables" data-role="children" aria-labelledby="syllTitle">
    <div class="container">
      <h2 id="syllTitle" class="section-title">Juego: SÃ­labas</h2>
      <div class="panel" role="region" aria-label="Panel del juego SÃ­labas">
        <p>
          Nivel: <span id="syllLevel"></span> Â·
          Ronda: <span id="syllRound"></span> Â·
          Vidas: <span id="syllLives"></span> Â·
          Racha: <span id="syllStreak"></span> Â·
          Tiempo: <span id="syllTime"></span>s
        </p>
        <p>Selecciona la sÃ­laba: <span id="syllTarget"></span></p>
        <div id="syllOptions" class="options"></div>
        <p>Puntos: <span id="syllScore"></span></p>
      </div>
    </div>
  </section>

  <section id="game-wordsearch" class="page role-only" data-page="game-wordsearch" data-role="children" aria-labelledby="wsTitle">
    <div class="container">
      <h2 id="wsTitle" class="section-title">Juego: Sopa de Letras</h2>
      <div class="panel" role="region" aria-label="Panel del juego Sopa de letras">
        <p>Palabras encontradas: <span id="foundWords">0</span>/<span id="totalWords">0</span></p>
        <div id="wordGrid" class="grid" role="grid" aria-label="CuadrÃ­cula de letras"></div>
        <div id="wsWords" class="tags" aria-live="polite"></div>
        <div class="ws-controls">
          <button id="wsReset" class="chip">Nueva sopa</button>
        </div>
      </div>
    </div>
  </section>

  <section id="game-trivia" class="page role-only" data-page="game-trivia" data-role="children" aria-labelledby="triviaTitle">
    <div class="container">
      <h2 id="triviaTitle" class="section-title">Juego: Trivia</h2>
      <div class="panel" id="triviaCard" role="region" aria-label="Tarjeta de preguntas">
        <p>Pregunta <span id="qIdx"></span> de <span id="qTotal"></span></p>
        <p id="quizQ"></p>
        <div id="quizOpts" class="options"></div>
        <p>Tiempo: <span id="qTime"></span> Â· Puntos: <span id="triviaScore"></span></p>
      </div>
      <div class="panel" id="quizEnd" style="display:none" aria-live="polite">
        <h3>Â¡Trivia completada!</h3>
        <p>Puntaje final: <span id="finalScore"></span></p>
        <button class="chip" data-go="game-trivia">Jugar de nuevo</button>
      </div>
    </div>
  </section>
</main>

<div id="loginModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="loginTitle">
  <div class="modal-content animate-slide">
    <button class="login-close" title="Cerrar">âœ–</button>
    <h2 id="loginTitle">Iniciar sesiÃ³n</h2>
    <form id="loginForm">
      <label for="username">Usuario</label>
      <div class="input-icon">
        <span aria-hidden="true">ğŸ‘¤</span>
        <input type="text" id="username" required placeholder="Usuario" autocomplete="username">
      </div>
      <label for="password">ContraseÃ±a</label>
      <div class="input-icon">
        <span aria-hidden="true">ğŸ”‘</span>
        <input type="password" id="password" required placeholder="******" minlength="6" autocomplete="current-password">
      </div>
      <label for="role">Rol</label>
      <select id="role" required>
        <option value="">Seleccione un rol</option>
        <option value="children">NiÃ±o</option>
        <option value="parents">Padre</option>
        <option value="teachers">Docente</option>
        <option value="school">Colegio</option>
      </select>
      <label class="remember-wrap">
        <input type="checkbox" id="remember"> Recordar sesiÃ³n
      </label>
      <button type="submit" class="cta full">Entrar</button>
      <p id="loginMsg" style="color:#ff8ea8;margin-top:6px" aria-live="polite"></p>
    </form>
  </div>
</div>

<div id="registerModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="registerTitle">
  <div class="modal-content animate-slide">
    <button class="login-close" title="Cerrar">âœ–</button>
    <h2 id="registerTitle">Registro</h2>
    <form id="registerForm">
      <label for="regName">Nombre completo</label>
      <input type="text" id="regName" required placeholder="Ej: Juan PÃ©rez" autocomplete="name">

      <label for="regUser">Usuario</label>
      <input type="text" id="regUser" required autocomplete="username">

      <label for="regPass">ContraseÃ±a</label>
      <input type="password" id="regPass" required minlength="6" autocomplete="new-password">

      <label for="regRole">Rol</label>
      <select id="regRole" required>
        <option value="">Seleccione un rol</option>
        <option value="children">NiÃ±o</option>
        <option value="parents">Padre</option>
        <option value="teachers">Docente</option>
        <option value="school">Colegio</option>
      </select>

      <!-- Avatares con imÃ¡genes -->
      <label class="avatar-label">Elige tu avatar:</label>
      <div class="avatar-grid">
        <label>
          <input type="radio" name="avatar" value="astronauta1" required>
          <img src="https://i.ibb.co/Y51hBKc/renderizado-en-3d-del-astronauta.jpg" alt="Astronauta 1">
        </label>
        <label>
          <input type="radio" name="avatar" value="astronauta2">
          <img src="https://i.ibb.co/Qj7hdNgq/ilustracion-3d-divertido-astronauta.jpg" alt="Astronauta 2">
        </label>
        <label>
          <input type="radio" name="avatar" value="cohete">
          <img src="https://i.ibb.co/B5bYKDkR/vista-del-cohete-espacial-grafico-3d.jpg" alt="Cohete">
        </label>
        <label>
          <input type="radio" name="avatar" value="ninos">
          <img src="https://i.ibb.co/tPhPc87L/ninos-de-dibujos-animados-en-3d-explorando-la-luna-en-el-espacio.jpg" alt="NiÃ±os en la Luna">
        </label>
      </div>

      <button type="submit" class="cta full">Registrarme</button>
      <p id="regMsg" aria-live="polite"></p>
    </form>
  </div>
</div>

<footer class="app-footer" style="background:#155688;color:#fff;padding:18px;text-align:center" role="contentinfo">
  <p>Â© 2025 Libronautas Â· Todos los derechos reservados</p>
</footer>

<div id="toasts" aria-live="polite" aria-atomic="true"></div>
